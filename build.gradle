import org.apache.tools.ant.filters.*;

apply plugin: 'java'
apply plugin: 'java-library-distribution'

def propertyOrDefault(name, defaultValue) {
    return project.hasProperty(name) ? project.getProperty(name) : defaultValue
}

group = 'org.elasticsearch'
version = propertyOrDefault('plugin_version', '2.0.0')

def elasticsearch_version = propertyOrDefault('elasticsearch_version', '2.0.0')
def lucene_version = propertyOrDefault('lucene_version', '5.2.1')

configurations {
    provided
}

processResources {
    expand(project.properties)
}

repositories {
    mavenCentral()
}

dependencies {
    compile(group: 'org.apache.lucene', name: 'lucene-test-framework', version: lucene_version)
    compile(group: 'org.elasticsearch', name: 'elasticsearch', version: elasticsearch_version)
    compile(group: 'org.elasticsearch', name: 'elasticsearch', version: elasticsearch_version, classifier: 'tests')
    compile "net.java.dev.jna:jna:4.2.1"
    compile 'dnsjava:dnsjava:2.1.7'
    compile 'junit:junit:4.11'
    compile 'com.carrotsearch.randomizedtesting:randomizedtesting-runner:2.1.10'
}
